<!DOCTYPE html>
<html>
<head>
    <meta charset = "UTF-8">
    <!--Adding a background color and buttons style -->
    <title>Rock Paper Scissors</title>
    <style>
        body{
            background: rgb(34, 31, 31);
            color:white;
            font: normal 18pt Arial;
        }
        .optionButton
        {
            background:rgb(74, 75, 88);
            color:white;
            font: normal 25px Arial;
            height:150px;
            width:150px;
            margin:75px;
        }
        .pointsToWinMessage
        {
            font: normal 35px Arial;
            color:rgb(92, 127, 167)
        }
        
    </style>
</head>
<body>
    <!--Creating the options buttons-->
    <h1 id ="Central_title">       <center> Rock, paper or scissors?</center>    </h1>
    <center>
    <button class="optionButton" onclick="playerRock()">Rock</button>
    <button class="optionButton" onclick="playerPaper()">Paper</button>
    <button class="optionButton" onclick="playerScissors()">Scissors</button>
    </center>
    <!--Showing the score-->
    <p class ="pointsToWinMessage">First to achieve 5 points wins!!</p>
    <div>Player score: <span id="playerScore"></span></div>
    <div>Computer score: <span id="computerScore"></span></div>

    <script>
//global variables
let playerOption;
let score =[0,0]; // [0] = player score, [1] = computer score
let result = 0;

// a function to start showing the score
function start()
{
    document.getElementById("playerScore").innerHTML = score[0];
    document.getElementById("computerScore").innerHTML = score[1];
}
start();
// functions that assign the chosen button to a variable and runs a match
function playerRock(){
    playerOption = "rock";
    game();
}
function playerPaper(){
    playerOption = "paper";
    game();
}
function playerScissors(){
    playerOption = "scissors";
    game();
}

function game()
{
    // creating a score   
       result = match (playerOption, computerPlay())
        if (result == 1)
        {
            score[0]++
        }
        else if (result == 2)
        {
            score[1]++
        }
    //updating the score after each match
    document.getElementById("playerScore").innerHTML = score[0];
    document.getElementById("computerScore").innerHTML = score[1];

    // show the final score
    if (score[0] == 5 || score[1] == 5)
    {
    if (score[0] > score[1])
    {
        window.alert("Congratulations, you won!!")
        window.alert("Player: "+score[0]+"\nComputer: "+score[1])
    }
    else if (score[0] < score[1])
    {
        window.alert ("Sorry, you lose")
        window.alert("Player: "+score[0]+"\nComputer: "+score[1])
    }
    score[0]=0;
    score[1]=0;
    }
}

// This function will give a random option to the computer
function computerPlay ()
{
    // creating a random number and returning a random option
    let num = Math.floor(Math.random() * 3);
    if (num == 0)
    { return "rock"}
    if (num == 1)
    { return "paper"}
    if (num ==2 )
    { return "scissors"}
}    

/* This function will compare the player selection with the computer selection,
and return a number, based on who won (0 = tie, 1 = player, 2 = computer) */
function match (playerSelection, computerSelection)
{
    // results of each possible match, showing a message + returning who won
   switch (playerSelection)
   {
     case "rock":
         {
            if (computerSelection == "rock")
            {window.alert ("Rock on rock! TIE!!");return 0};

            if (computerSelection == "paper")
            {window.alert ("Rock on paper! Paper wins!!");return 2};

            if (computerSelection == "scissors")
            {window.alert ("Rock on scissors! Rock wins!!");return 1};
         }
     case "paper":
         {
            if (computerSelection == "rock")
            {window.alert ("Paper on rock! Paper wins!!");return 1};

            if (computerSelection == "paper")
            {window.alert ("Paper on paper! TIE!!");return 0};

            if (computerSelection == "scissors")
            {window.alert ("Paper on scissors!! Scissors wins!!");return 2};
         }
     case "scissors":
     {
        if (computerSelection == "rock")
            {window.alert ("Scissors on rock! Rock wins!!");return 2};

            if (computerSelection == "paper")
            {window.alert ("Scissors on paper! Scissors wins!!");return 1};

            if (computerSelection == "scissors")
            {window.alert ("Scissors on scissors! TIE!!");return 0};
     }
     default:
     {
        return console.log("Invalid entry");
     }
   }
}
    </script>
</body>
</html>